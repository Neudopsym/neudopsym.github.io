<!DOCTYPE html>
<html lang="sk">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Promo videá – Neudopsym Photo</title>
<meta name="description" content="Promo videá z barového a promo prostredia – kreativita, detail a emócia v každom zábere.">
<meta name="robots" content="index, follow">
<meta name="author" content="Filip Kubus">
<link rel="canonical" href="https://neudopsym.cz/video/promo-videa.html">
<meta property="og:title" content="Promo videá – Neudopsym Photo">
<meta property="og:description" content="Promo videá z barového a promo prostredia – kreativita, detail a emócia v každom zábere.">
<meta property="og:image" content="https://neudopsym.github.io/img/video/preview.jpg">
<meta property="og:type" content="website">
<meta property="og:url" content="https://neudopsym.cz/video/promo-videa.html">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Promo videá – Neudopsym Photo">
<meta name="twitter:description" content="Promo videá – kreativita, detail a emócia v každom zábere.">
<meta name="twitter:image" content="https://neudopsym.github.io/img/video/preview.jpg">
<link rel="stylesheet" href="/style.css">
<style>
/* Mobile H1 styling */
.mobile-h1 {
display: none;
}

@media (max-width: 768px) {
/* Hide desktop H1 on mobile */
main > h1 {
display: none;
}

/* Show mobile H1 with updated specifications */
.mobile-h1 {
display: block;
font-size: 46px !important;
font-weight: 800 !important;
line-height: 1.2 !important;
margin-top: 15px !important;
margin-left: 0 !important;
margin-bottom: 20px;
color: #ffffff;
text-shadow: 2px 2px 6px rgba(0, 0, 0, 0.6), 
1px 1px 12px rgba(0, 0, 0, 0.4),
0 0 16px rgba(0, 0, 0, 0.3);
letter-spacing: 1.5px;
text-align: left;
padding: 0;
white-space: pre-line;
}
}

/* Language Switcher Styles */
.language-switcher {
position: relative;
}

.language-dropdown {
position: relative;
}

.language-button {
font-family: 'Segoe UI', 'Roboto', 'Arial', 'Helvetica Neue', sans-serif;
font-weight: 600;
text-transform: uppercase;
font-size: 15px;
letter-spacing: 1px;
transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
color: #ffffff;
padding: 6px 12px;
background: transparent;
border: none;
text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.8);
cursor: pointer;
display: flex;
align-items: center;
gap: 5px;
}

.language-button:hover {
color: #ffffff;
background: transparent;
transform: scale(1.15) translateY(-2px);
text-shadow: 3px 3px 12px rgba(0, 0, 0, 0.9),
0 0 12px rgba(255, 255, 255, 0.15);
}

.arrow {
font-size: 12px;
transition: transform 0.3s ease;
}

.language-dropdown.active .arrow {
transform: rotate(180deg);
}

.language-options {
position: absolute;
top: 100%;
left: 0;
background: rgba(26, 26, 26, 0.95);
backdrop-filter: blur(15px);
border: 1px solid rgba(255, 255, 255, 0.1);
border-radius: 5px;
min-width: 80px;
z-index: 1001;
display: none;
}

.language-options.active {
display: block;
}

.language-option {
display: block;
padding: 8px 12px;
color: #ffffff;
text-decoration: none;
font-family: 'Segoe UI', 'Roboto', 'Arial', 'Helvetica Neue', sans-serif;
font-weight: 600;
text-transform: uppercase;
font-size: 15px;
letter-spacing: 1px;
text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.8);
transition: all 0.3s ease;
}

.language-option:hover {
background: rgba(255, 255, 255, 0.1);
transform: scale(1.05);
}

/* Mobile Language Switcher */
@media (max-width: 768px) {
.mobile-menu .language-switcher {
margin-top: 20px;
position: relative;
}

.mobile-menu .language-dropdown {
position: relative;
}

.mobile-menu .language-button {
font-size: 32px;
padding: 15px 30px;
min-width: 250px;
text-align: center;
justify-content: center;
}

.mobile-menu .arrow {
font-size: 24px;
transition: transform 0.3s ease;
}

.mobile-menu .language-dropdown.active .arrow {
transform: rotate(180deg);
}

.mobile-menu .language-options {
position: absolute;
top: 50%;
transform: translateY(-50%);
left: calc(80%);
background: rgba(26, 26, 26, 0.95);
backdrop-filter: blur(15px);
border: 1px solid rgba(255, 255, 255, 0.1);
border-radius: 4px;
width: 50px;
z-index: 1002;
display: none;
box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
}

.mobile-menu .language-options.active {
display: block !important;
}

.mobile-menu .language-option {
font-size: 18px;
padding: 8px 5px;
text-align: center;
white-space: nowrap;
display: block;
border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.mobile-menu .language-option:last-child {
border-bottom: none;
}

.mobile-menu .language-option:hover {
transform: scale(1.05);
text-shadow: 1px 1px 4px rgba(0, 0, 0, 0.9);
background: rgba(255, 255, 255, 0.1);
}
}

/* Video Modal - Desktop viewport-relative positioning */
.modal {
position: fixed;
top: 0;
left: 0;
width: 100vw;
height: 100vh;
background-color: rgba(0, 0, 0, 0.9);
display: none;
z-index: 1000;
box-sizing: border-box;
align-items: center;
justify-content: center;
}

.modal.show {
display: flex !important;
}

.modal-content {
position: fixed;
display: flex;
flex-direction: column;
align-items: center;
justify-content: center;
max-width: calc(100vw - 60px);
max-height: calc(100vh - 60px);
}

.modal-video-wrapper {
position: relative;
background: #000;
border-radius: 15px;
overflow: hidden;
width: 800px;
height: 450px;
}

.modal-video-wrapper iframe {
width: 100%;
height: 100%;
border: none;
border-radius: 15px;
}

.close-button {
position: absolute;
top: -60px;
right: 0;
color: white;
font-size: 30px;
font-weight: bold;
cursor: pointer;
z-index: 1001;
background: rgba(0, 0, 0, 0.5);
border-radius: 50%;
width: 40px;
height: 40px;
display: flex;
align-items: center;
justify-content: center;
transition: background-color 0.3s ease;
}

.close-button:hover {
background: rgba(0, 0, 0, 0.8);
}

/* Video close button on upper-left corner of video - Desktop only */
.video-close-button {
position: absolute;
top: 10px;
left: 10px;
color: white;
font-size: 24px;
font-weight: bold;
cursor: pointer;
z-index: 1002;
background: rgba(0, 0, 0, 0.7);
border-radius: 50%;
width: 35px;
height: 35px;
display: flex;
align-items: center;
justify-content: center;
transition: all 0.3s ease;
border: 2px solid rgba(255, 255, 255, 0.3);
box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
}

.video-close-button:hover {
background: rgba(0, 0, 0, 0.9);
border-color: rgba(255, 255, 255, 0.6);
transform: scale(1.1);
}

#modalVideoTitle {
color: white;
font-size: 24px;
margin-bottom: 20px;
text-align: center;
max-width: 100%;
margin-top: 0;
}

.loading {
color: white;
font-size: 18px;
text-align: center;
}

/* Mobile adjustments - Fixed viewport centering */
@media (max-width: 768px) {
.modal {
position: fixed;
top: 0;
left: 0;
width: 100vw;
height: 100vh;
padding: 10px;
display: none !important;
align-items: center;
justify-content: center;
}

.modal.show {
display: flex !important;
}

.modal-content {
width: 100%;
max-width: 100%;
max-height: 100%;
display: flex;
flex-direction: column;
align-items: center;
justify-content: center;
overflow: hidden;
}

#modalVideoTitle {
font-size: 18px;
margin-bottom: 15px;
padding: 0 10px;
flex-shrink: 0;
}

.close-button {
top: -40px;
font-size: 24px;
width: 35px;
height: 35px;
}

/* Hide desktop video close button on mobile */
.video-close-button {
display: none;
}

/* Mobile-specific video close button */
.mobile-video-close {
position: absolute;
top: 8px;
left: 8px;
color: white;
font-size: 20px;
font-weight: bold;
cursor: pointer;
z-index: 1002;
background: rgba(0, 0, 0, 0.7);
border-radius: 50%;
width: 30px;
height: 30px;
display: flex;
align-items: center;
justify-content: center;
transition: all 0.3s ease;
border: 1px solid rgba(255, 255, 255, 0.3);
box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
}

.mobile-video-close:hover {
background: rgba(0, 0, 0, 0.9);
border-color: rgba(255, 255, 255, 0.6);
transform: scale(1.1);
}

.modal-video-wrapper {
position: relative;
display: block;
margin: 0;
max-width: 100%;
max-height: calc(100vh - 100px);
}

.modal-video-wrapper.has-dimensions {
/* Size will be set dynamically via JavaScript */
}
}

/* Ensure video cards are clickable */
.video-card {
cursor: pointer;
transition: transform 0.3s ease, box-shadow 0.3s ease;
position: relative;
overflow: hidden;
}

.video-card:hover {
transform: translateY(-5px);
box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
}

/* Hide any existing play button overlays from external CSS */
.video-card::before,
.video-card .play-button,
.video-card .play-overlay,
.video-card .video-overlay {
display: none !important;
}

/* Desktop play button overlay - perfectly centered */
.video-card::after {
content: '▶';
position: absolute;
top: 50%;
left: 50%;
transform: translate(-50%, -50%);
width: 100px;
height: 100px;
background: rgba(0, 0, 0, 0.8);
color: white;
border-radius: 50%;
display: flex;
align-items: center;
justify-content: center;
font-size: 42px;
font-weight: bold;
opacity: 0;
transition: opacity 0.3s ease;
z-index: 100;
backdrop-filter: blur(2px);
border: 2px solid rgba(255, 255, 255, 0.3);
box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
line-height: 1;
text-align: center;
padding-left: 3px; /* Visual centering adjustment for triangular shape */
}

.video-card:hover::after {
opacity: 1;
}

/* Hide play button overlay on mobile */
@media (max-width: 768px) {
.video-card::after,
.video-card::before {
display: none !important;
}
}
</style>
</head>
<body>
<!-- Mobile menu button -->
<button class="mobile-menu-button" aria-label="Otvoriť menu">☰</button>

<!-- Mobile menu overlay -->
<div class="mobile-menu">
<button class="mobile-menu-close" aria-label="Zavrieť menu">&times;</button>
<ul>
<li><a href="../index-sk.html">Úvod</a></li>
<li><a href="../foto-sk.html">Foto</a></li>
<li><a href="../video-sk.html" class="active">Video</a></li>
<li><a href="../o-mne-sk.html">O mne</a></li>
<li><a href="../recenze-sk.html">Recenzie</a></li>    
<li><a href="../kontakt-sk.html">Kontakt</a></li>
<li class="language-switcher">
<div class="language-dropdown">
<button class="language-button" onclick="toggleMobileLanguageDropdown()">
SK <span class="arrow">▼</span>
</button>
<div class="language-options" id="mobile-language-options">
<a href="promo-videa.html" class="language-option">CZ</a>
<a href="promo-videa-en.html" class="language-option">EN</a>
</div>
</div>
</li>
</ul>
</div>

<header>
<nav>
<ul>
<li><a href="../index-sk.html">Úvod</a></li>
<li><a href="../foto-sk.html">Foto</a></li>
<li><a href="../video-sk.html" class="active">Video</a></li>
<li><a href="../o-mne-sk.html">O mne</a></li>
<li><a href="../recenze-sk.html">Recenzie</a></li>    
<li><a href="../kontakt-sk.html">Kontakt</a></li>
<li class="language-switcher">
<div class="language-dropdown">
<button class="language-button" onclick="toggleLanguageDropdown()">
SK <span class="arrow">▼</span>
</button>
<div class="language-options" id="language-options">
<a href="promo-videa.html" class="language-option">CZ</a>
<a href="promo-videa-en.html" class="language-option">EN</a>
</div>
</div>
</li>
</ul>
</nav>
</header>

<main>
<!-- Desktop H1 -->
<h1>Promo videá</h1>

<!-- Mobile H1 -->
<h1 class="mobile-h1">Promo<br>videá</h1>

<div class="video-gallery">
   <div class="video-card" data-video-id="1104261030" data-video-title="Kino Aero: Leto v kine Aero" data-video-platform="vimeo">
      <img src="../img/systemove/Aero_Leto_v_Aeru_nahled.jpg" alt="Miniatúra videa: Leto v kine Aero" loading="lazy">
      <h2>Kino Aero: Leto v kine Aero</h2>
   </div>
   <div class="video-card" data-video-id="1104260907" data-video-title="Kino Aero: Chambord Spritz" data-video-platform="vimeo">
      <img src="../img/systemove/aero_chambord_spritz_nahlad_1.jpg" alt="Miniatúra videa: Chambord Spritz" loading="lazy">
      <h2>Kino Aero: Chambord Spritz</h2>
   </div>
   <div class="video-card" data-video-id="1104260988" data-video-title="Kino Aero: Apple Jack Sour" data-video-platform="vimeo">
      <img src="../img/systemove/Aero_Apple_Jack_Sour_nahled1.jpg" alt="Miniatúra videa: Apple Jack Sour" loading="lazy">
      <h2>Kino Aero: Apple Jack Sour</h2>
   </div>
   <div class="video-card" data-video-id="1104261250" data-video-title="Rezidence Na Karmeli" data-video-platform="vimeo">
      <img src="https://neudopsym.github.io/img/systemove/NKR_nahlad.png" alt="Miniatúra videa: Rezidence Na Karmeli" loading="lazy">
      <h2>Rezidence Na Karmeli</h2>
   </div>
   <div class="video-card" data-video-id="1104261085" data-video-title="Green Mladá Boleslav 1" data-video-platform="vimeo">
      <img src="https://neudopsym.github.io/img/systemove/Green_MB_nahlad.png" alt="Miniatúra videa: Green Mladá Boleslav 1" loading="lazy">
      <h2>Green Mladá Boleslav 1</h2>
   </div>
   <div class="video-card" data-video-id="1114381030" data-video-title="Green Mladá Boleslav 2" data-video-platform="vimeo">
      <img src="https://neudopsym.github.io/img/systemove/GMB_4.png" alt="Miniatúra videa: Green Mladá Boleslav 2" loading="lazy">
      <h2>Green Mladá Boleslav 2</h2>
   </div>
   <div class="video-card" data-video-id="1114381775" data-video-title="Green Mladá Boleslav 3" data-video-platform="vimeo">
      <img src="https://neudopsym.github.io/img/systemove/GMB_5.png" alt="Miniatúra videa: Green Mladá Boleslav 3" loading="lazy">
      <h2>Green Mladá Boleslav 3</h2>
   </div>
   <div class="video-card" data-video-id="1114379771" data-video-title="Vily Crystal Gardens" data-video-platform="vimeo">
      <img src="https://neudopsym.github.io/img/systemove/VCG_2.png" alt="Miniatúra videa: Vily Crystal Gardens" loading="lazy">
      <h2>Vily Crystal Gardens</h2>
   </div>
   <div class="video-card" data-video-id="1120928491" data-video-title="Costa del Sol, Španielsko" data-video-platform="vimeo">
      <img src="https://neudopsym.github.io/img/systemove/CostaDelSol_Spanelsko2.png" alt="Miniatúra videa: Costa del Sol, Španielsko" loading="lazy">
      <h2>Costa del Sol, Španielsko</h2>
   </div>
   <div class="video-card" data-video-id="1125578756" data-video-title="AuHa: Výroba autíčka" data-video-platform="vimeo">
      <img src="https://neudopsym.github.io/img/systemove/auha_auticko.png" alt="Miniatúra videa: AuHa: Výroba autíčka" loading="lazy">
      <h2>AuHa: Výroba autíčka</h2>
   </div>  
   <div class="video-card" data-video-id="1127449847" data-video-title="AuHa: Kúzelný batoh" data-video-platform="vimeo">
      <img src="https://neudopsym.github.io/img/systemove/auha_batoh.png" alt="Miniatúra videa: AuHa: Kúzelný batoh" loading="lazy">
      <h2>AuHa: Kúzelný batoh</h2>
   </div>
   <div class="video-card" data-video-id="1127455487" data-video-title="AuHa: Výroba luku" data-video-platform="vimeo">
      <img src="https://neudopsym.github.io/img/systemove/auhacek_luk_auha.png" alt="Miniatúra videa: AuHa: Výroba luku" loading="lazy">
      <h2>AuHa: Výroba luku</h2>
   </div>
</div>
</main>

<footer>
<p>© 2025 Neudopsym Photo</p>
</footer>

<!-- High-Quality Video Modal -->
<div id="videoModal" class="modal">
<div class="modal-content">
<span class="close-button" aria-label="Zavrieť video">&times;</span>
<h2 id="modalVideoTitle"></h2>
<div class="modal-video-wrapper">
<span class="video-close-button" aria-label="Zavrieť video">&times;</span>
<div class="loading">Načítava sa video...</div>
</div>
</div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
// Mobile menu functionality
const mobileMenuButton = document.querySelector('.mobile-menu-button');
const mobileMenu = document.querySelector('.mobile-menu');
const mobileMenuClose = document.querySelector('.mobile-menu-close');

function openMobileMenu() {
mobileMenu.classList.add('active');
document.body.style.overflow = 'hidden';
}

function closeMobileMenu() {
mobileMenu.classList.remove('active');
document.body.style.overflow = 'auto';
}

// FIXED: Toggle mobile menu on hamburger button click
mobileMenuButton.addEventListener('click', function() {
if (mobileMenu.classList.contains('active')) {
closeMobileMenu();
} else {
openMobileMenu();
}
});

mobileMenuClose.addEventListener('click', closeMobileMenu);

// Close mobile menu when clicking on menu links
const mobileMenuLinks = mobileMenu.querySelectorAll('a');
mobileMenuLinks.forEach(link => {
link.addEventListener('click', closeMobileMenu);
});

// Close mobile menu when clicking outside
mobileMenu.addEventListener('click', function(event) {
if (event.target === mobileMenu) {
closeMobileMenu();
}
});

// Video modal functionality
const videoCards = document.querySelectorAll('.video-card');
const videoModal = document.getElementById('videoModal');
const closeButton = document.querySelector('.close-button');
const videoCloseButton = document.querySelector('.video-close-button');
const modalVideoWrapper = videoModal.querySelector('.modal-video-wrapper');
const modalVideoTitle = document.getElementById('modalVideoTitle');

// Function to detect video dimensions and set wrapper size
function setVideoWrapperDimensions(videoId, platform, wrapper, callback) {
if (platform === 'vimeo') {
// For Vimeo, use their API to get exact video dimensions
fetch(`https://vimeo.com/api/oembed.json?url=https://vimeo.com/${videoId}`)
.then(response => response.json())
.then(data => {
const videoWidth = data.width;
const videoHeight = data.height;
const aspectRatio = videoWidth / videoHeight;

// Calculate optimal size for current viewport
const maxWidth = window.innerWidth <= 768 ? window.innerWidth * 0.9 : 800;
                const maxHeight = window.innerWidth <= 768 ? window.innerHeight * 0.8 : 450;

let finalWidth, finalHeight;

if (window.innerWidth <= 768) {
// Mobile: fit within viewport while maintaining aspect ratio
if (aspectRatio > 1) {
// Landscape
finalWidth = Math.min(maxWidth, maxHeight * aspectRatio);
finalHeight = finalWidth / aspectRatio;
} else {
// Portrait or square - make portrait videos bigger on mobile
finalHeight = Math.min(maxHeight, maxWidth / aspectRatio);
finalWidth = finalHeight * aspectRatio;
// Give portrait videos extra height on mobile (up to 90% of viewport height)
if (aspectRatio < 1) {
finalHeight = Math.min(window.innerHeight * 0.9, maxWidth / aspectRatio);
finalWidth = finalHeight * aspectRatio;
}
}
} else {
// Desktop: maintain reasonable size but respect aspect ratio
if (aspectRatio > 16/9) {
// Very wide video
finalWidth = maxWidth;
finalHeight = finalWidth / aspectRatio;
} else if (aspectRatio < 9/16) {
// Very tall video - make portrait videos bigger on desktop too
finalHeight = Math.min(500, maxWidth / aspectRatio); // Increased from 450 to 500
finalWidth = finalHeight * aspectRatio;
} else if (aspectRatio < 1) {
// Portrait videos - give them more space
finalHeight = Math.min(500, maxWidth / aspectRatio); // Increased height for portrait
finalWidth = finalHeight * aspectRatio;
} else {
// Standard aspect ratios
finalWidth = Math.min(maxWidth, maxHeight * aspectRatio);
finalHeight = finalWidth / aspectRatio;
}
}

// Apply dimensions to wrapper
wrapper.style.width = `${Math.round(finalWidth)}px`;
wrapper.style.height = `${Math.round(finalHeight)}px`;
wrapper.classList.add('has-dimensions');

callback();
})
.catch(() => {
// Fallback to default size
if (window.innerWidth <= 768) {
wrapper.style.width = '90vw';
wrapper.style.height = 'auto';
} else {
wrapper.style.width = '800px';
wrapper.style.height = '450px';
}
callback();
});
} else {
// For YouTube, we can't easily get dimensions, so use responsive defaults
if (window.innerWidth <= 768) {
wrapper.style.width = '90vw';
wrapper.style.height = 'calc(90vw * 9/16)'; // Assume 16:9
} else {
wrapper.style.width = '800px';
wrapper.style.height = '450px';
}
callback();
}
}

// Function to create Vimeo embed
function createVimeoEmbed(videoId) {
const iframe = document.createElement('iframe');

const params = new URLSearchParams({
autoplay: '1',
loop: '0',
muted: '0',
quality: 'auto',
responsive: '1',
dnt: '1',
portrait: '0',
title: '0',
byline: '0',
color: 'ffffff'
});

iframe.setAttribute('src', `https://player.vimeo.com/video/${videoId}?${params.toString()}`);
iframe.setAttribute('frameborder', '0');
iframe.setAttribute('allow', 'autoplay; fullscreen; picture-in-picture');
iframe.setAttribute('allowfullscreen', '');
iframe.style.borderRadius = '15px';

return iframe;
}

// Function to create YouTube embed (fallback)
function createYouTubeEmbed(videoId) {
const iframe = document.createElement('iframe');

const params = new URLSearchParams({
autoplay: '1',
rel: '0',
modestbranding: '1',
iv_load_policy: '3',
cc_load_policy: '0',
disablekb: '0',
fs: '1',
hd: '1',
vq: 'hd1080',
quality: 'hd1080',
enablejsapi: '1',
origin: window.location.origin
});

iframe.setAttribute('src', `https://www.youtube.com/embed/${videoId}?${params.toString()}`);
iframe.setAttribute('frameborder', '0');
iframe.setAttribute('allow', 'accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share');
iframe.setAttribute('allowfullscreen', '');
iframe.style.borderRadius = '15px';

return iframe;
}

// Open video modal - Mobile responsive, Desktop fixed
videoCards.forEach(card => {
card.addEventListener('click', function() {
const videoId = this.dataset.videoId;
const videoTitle = this.dataset.videoTitle;
const platform = this.dataset.videoPlatform || 'youtube';

console.log('Opening video:', videoId, videoTitle, platform);

// Clear previous content and show loading
modalVideoWrapper.innerHTML = '<div class="loading">Načítava sa video...</div>';
modalVideoWrapper.className = 'modal-video-wrapper';
modalVideoTitle.textContent = videoTitle;

// Show modal - only when user actually clicks a video
videoModal.style.display = 'flex';
videoModal.classList.add('show');

console.log('Modal display style:', videoModal.style.display);

// Reset scroll position to top for desktop
if (window.innerWidth > 768) {
window.scrollTo(0, 0);
}  
  
// Prevent body scroll when modal is open
document.body.style.overflow = 'hidden';

// On mobile, also prevent scrolling of the page behind modal
if (window.innerWidth <= 768) {
document.documentElement.style.overflow = 'hidden';
window.scrollTo(0, 0);
}

// Set wrapper dimensions based on actual video size
setVideoWrapperDimensions(videoId, platform, modalVideoWrapper, () => {
setTimeout(() => {
let iframe;
if (platform === 'vimeo') {
iframe = createVimeoEmbed(videoId);
} else {
iframe = createYouTubeEmbed(videoId);
}

// Create mobile-specific close button
const mobileCloseButton = document.createElement('span');
mobileCloseButton.className = 'mobile-video-close';
mobileCloseButton.innerHTML = '&times;';
mobileCloseButton.setAttribute('aria-label', 'Zavrieť video');
mobileCloseButton.addEventListener('click', closeVideoModal);

modalVideoWrapper.innerHTML = '';
modalVideoWrapper.appendChild(iframe);

// Add mobile close button only on mobile
if (window.innerWidth <= 768) {
modalVideoWrapper.appendChild(mobileCloseButton);
}

console.log('Video iframe created and added');
}, 100);
});
});
});

// Close modal function
function closeVideoModal() {
console.log('Closing modal');
videoModal.style.display = 'none';
videoModal.classList.remove('show');
modalVideoWrapper.innerHTML = '<div class="loading">Načítava sa video...</div>';
modalVideoWrapper.className = 'modal-video-wrapper';
modalVideoWrapper.style.width = '';
modalVideoWrapper.style.height = '';
document.body.style.overflow = 'auto';

if (window.innerWidth <= 768) {
document.documentElement.style.overflow = 'auto';
}
}

// Close button events
closeButton.addEventListener('click', closeVideoModal);
videoCloseButton.addEventListener('click', closeVideoModal);

// Click outside modal to close
window.addEventListener('click', function(event) {
if (event.target === videoModal) {
closeVideoModal();
}
});

// Escape key to close modal
document.addEventListener('keydown', function(event) {
if (event.key === 'Escape') {
if (videoModal.style.display === 'flex') {
closeVideoModal();
}
if (mobileMenu.classList.contains('active')) {
closeMobileMenu();
}
}
});

// Improve thumbnail loading with fallback
const thumbnails = document.querySelectorAll('.video-card img');
thumbnails.forEach(img => {
img.addEventListener('error', function() {
const videoCard = this.closest('.video-card');
const videoId = videoCard.dataset.videoId;
if (videoId && !this.src.includes('vimeocdn.com')) {
this.src = `https://i.vimeocdn.com/video/${videoId}_640x360.jpg`;
}
});
});
});

function toggleLanguageDropdown() {
const dropdown = document.querySelector('header .language-dropdown');
const options = document.getElementById('language-options');

if (dropdown && options) {
dropdown.classList.toggle('active');
options.classList.toggle('active');
}
}

function toggleMobileLanguageDropdown() {
const mobileDropdown = document.querySelector('.mobile-menu .language-dropdown');
const mobileOptions = document.getElementById('mobile-language-options');

if (mobileDropdown && mobileOptions) {
mobileDropdown.classList.toggle('active');
mobileOptions.classList.toggle('active');
}
}

// Close language dropdown when clicking outside
document.addEventListener('click', function(event) {
const desktopDropdown = document.querySelector('header .language-dropdown');
const mobileDropdown = document.querySelector('.mobile-menu .language-dropdown');

// Desktop dropdown
if (desktopDropdown && !desktopDropdown.contains(event.target)) {
desktopDropdown.classList.remove('active');
document.getElementById('language-options').classList.remove('active');
}

// Mobile dropdown
if (mobileDropdown && !mobileDropdown.contains(event.target)) {
mobileDropdown.classList.remove('active');
const mobileOptions = document.getElementById('mobile-language-options');
if (mobileOptions) {
mobileOptions.classList.remove('active');
}
}
});
</script>
</body>
</html>




